# ğŸ”— ì•„ì´í…œ 1. ìƒì„±ì ëŒ€ì‹  ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ê³ ë ¤í•˜ë¼

í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì€ (1) public ìƒì„±ì (2) ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œê°€ ìˆë‹¤.

í´ë˜ìŠ¤ëŠ” ìƒì„±ìì™€ ë³„ë„ë¡œ **ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œ**(static factory method)ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤.

&nbsp;

javaê°œë°œì„ í•˜ë‹¤ë³´ë©´ ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë“¤ì´ ìˆë‹¤.  
ëŒ€í‘œì ìœ¼ë¡œÂ **Arrays, Collections**Â í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œë“¤ì´ë‹¤.
```java
int[] nums = {1,2,3,4,5};
List<String> list = Arrays.**asList**(nums);
Collections.sort(list);
```

&nbsp;

### ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë€?

staticìœ¼ë¡œ ì„ ì–¸ëœ ë©”ì„œë“œì´ë©°,Â new Object()ì™€ ê°™ì´ ê°ì²´ìƒì„±ì„ í•˜ì§€ ì•Šê³  ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œì´ë‹¤.  
ì‹¤ì œë¡œ Booleanê°ì²´ì˜ `valueOf()`ê°€ ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œì¸ë° ë‚´ë¶€ë¥¼ ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.  
##### ì´ ë©”ì„œë“œëŠ” ê¸°ë³¸ íƒ€ì…ì¸ boolean ê°’ì„ ë°›ì•„ Boolean ê°ì²´ ì°¸ì¡°ë¡œ ë³€í™˜í•´ì¤€ë‹¤.
```java
public static Boolean valueOf(boolean b) {
	return b ? Boolean.TRUE : Boolean.FALSE;
}
```

&nbsp;

## ğŸ’ ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œê°€ ìƒì„±ìë³´ë‹¤ ì¢‹ì€ ì´ìœ 

### 1. ì´ë¦„ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.

> **í•œ í´ë˜ìŠ¤ì— ìƒì„±ìê°€ ì—¬ëŸ¬ ê°œ í•„ìš”í•˜ë‹¤ë©´, ìƒì„±ìë¥¼ ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë¡œ ë°”ê¾¸ê³  ì´ë¦„ì„ ì§€ì–´ì£¼ì.**

í•œ ê°ì²´ì˜ ìƒì„±ì ì—¬ëŸ¬ê°œë¡œ ì˜¤ë²„ë¡œë”©í•˜ë©´, ëª¨ë“  ìƒì„±ìì˜ ì´ë¦„ì€ ê°™ì§€ë§Œ ë§¤ê°œë³€ìˆ˜ë§Œ ë‹¤ë¥´ë‹¤.  
ì´ëŸ¬í•œ ê²½ìš°Â **ë‹¨ìˆœíˆ ë§¤ê°œë³€ìˆ˜ë§Œ ë³´ê³  ì˜ë¯¸í•˜ëŠ” ë°”ë¥¼ ì •í™•í•˜ê²Œ ì•Œê¸° í˜ë“  ê²½ìš°**ê°€ ë§ë‹¤.  

ìƒì„±ìì— ë„˜ê¸°ëŠ” ë§¤ê°œë³€ìˆ˜ì™€ ìƒì„±ì ìì²´ë§Œìœ¼ë¡œëŠ” ë°˜í™˜ë  ê°ì²´ì˜ íŠ¹ì„±ì„ ì œëŒ€ë¡œ ì„¤ëª…í•˜ì§€ ëª»í•œë‹¤.  
**ì…ë ¥ ë§¤ê°œë³€ìˆ˜ë“¤ì˜ ìˆœì„œë¥¼ ë‹¤ë¥´ê²Œ í•œ ìƒì„±ìë¥¼ ìƒˆë¡œ ì¶”ê°€í•˜ëŠ” ì‹ì€ ì¢‹ì§€ ì•Šì€ ë°œìƒì´ë‹¤.**  
ê° ìƒì„±ìê°€ ì–´ë–¤ ì—­í• ì„ í•˜ëŠ”ì§€ ì •í™•íˆ ê¸°ì–µí•˜ê¸° ì–´ë µê³ , ì½”ë“œë¥¼ ì½ëŠ” ì‚¬ëŒë„ ì˜ë¯¸ë¥¼ ì•Œì§€ ëª»í•  ê²ƒì´ë‹¤.

ë°˜ë©´ **ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œëŠ” ì´ë¦„ë§Œ ì˜ ì§€ìœ¼ë©´ ë°˜í™˜ë  ê°ì²´ì˜ íŠ¹ì„±ì„ ì‰½ê²Œ ë¬˜ì‚¬í•  ìˆ˜ ìˆë‹¤.**

ex) `BigInteger.probablePrime`: 'ê°’ì´ ì†Œìˆ˜ì¸ `BigInteger`ë¥¼ ë°˜í™˜í•œë‹¤.'

&nbsp;

### 2. í˜¸ì¶œë  ë•Œë§ˆë‹¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

> **ë¶ˆë³€ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.**

ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œ í˜¸ì¶œì„ ìœ„í•´ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ë¶ˆë³€ í´ë˜ìŠ¤(immutable class)ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìºì‹±í•˜ì—¬ ì¬í™œìš©í•˜ëŠ” ì‹ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„±ì„ í”¼í•  ìˆ˜ ìˆë‹¤.  
ë¶ˆë³€ í´ë˜ìŠ¤(Immutable)ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ê±°ë‚˜, ìƒˆë¡œ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìºì‹±í•˜ì—¬ ì¬í™œìš©í•´ ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„±ì„ ë§‰ì•„ ì„±ëŠ¥ì„ ëŒì–´ì˜¬ë ¤ ì¤€ë‹¤.  

> - **ë¶ˆë³€ í´ë˜ìŠ¤ (Immutable)**  
: ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•œ í´ë˜ìŠ¤  
	- ë ˆí¼ëŸ°ìŠ¤ íƒ€ì…ì˜ ê°ì²´ (heap ì˜ì—­ì—ì„œ ìƒì„±)  
	- Thread-safe (ì¬í• ë‹¹ì€ ê°€ëŠ¥. ê°’ ë³µì‚¬ X)   
	Ex. String, Boolean, Integer, Float, Long â†” (StringBuilderëŠ” ê°€ë³€ í´ë˜ìŠ¤)  
##### `Boolean.valueOf()` ë©”ì„œë“œëŠ” ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³ , Boolean ê°ì²´ ì°¸ì¡°ë¥¼ ë°˜í™˜í•´ ì¤€ë‹¤.
```java
@DisplayName("Boolean is an immutable class")
@Test
void booleanTest() {
	Boolean boolean1 = Boolean.valueOf(true);
	Boolean boolean2 = Boolean.valueOf("true");
	Boolean boolean3 = new Boolean(true);

	assertThat(boolean1).isSameAs(boolean2);
	assertThat(boolean1).isNotSameAs(boolean3);
}
```

&nbsp;

ex) 
```java
class Singleton {
    private static Singleton singleton = null;

    private Singleton() {}

    static Singleton getInstance() {
        if (singleton == null) {
            singleton = new Singleton();
        }

        return singleton;
    }
}
```
ìƒì„±ìë¥¼ private ìœ¼ë¡œ ì„ ì–¸í•˜ì—¬ `new` í‚¤ì›Œë“œë¥¼ í†µí•œ ê°ì²´ ìƒì„±ì„ ë§‰ì•„ë‘ê³ , `getInstance` ë©”ì„œë“œë¥¼ ì´ìš©í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì—†ë‹¤ë©´ ìƒì„±í•˜ê³ , ìˆë‹¤ë©´ ë°˜í™˜í•˜ë„ë¡ í•˜ì˜€ë‹¤.

```java
public class Main {
    public static void main(String[] args) {
        Singleton a = Singleton.getInstance();
        Singleton b = Singleton.getInstance();
        System.out.println(a == b); // true
    }
}
```

`getInstance`ë¥¼ í•´ì„œ ë¹„êµí•´ë³´ë©´, ê°ì²´ê°€ í•˜ë‚˜ë§Œ ìƒì„±ë˜ì—ˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.
	
&nbsp;

#### ì´ì™€ ë¹„ìŠ·í•œ ê¸°ë²•  
> - **í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´ (Flyweight pattern)**  
: 'ê³µìœ 'ë¥¼ í†µí•˜ì—¬ ë‹¤ì–‘í•œ ê°ì²´ë“¤ì„ íš¨ê³¼ì ìœ¼ë¡œ ì§€ì›í•˜ëŠ” ë°©ë²•  
	- ê°ì²´ ë‚´ë¶€ì—ì„œ ì°¸ì¡°í•˜ëŠ” ê°ì²´ë¥¼ ì§ì ‘ ë§Œë“¤ì§€ ì•Šê³ , ìˆë‹¤ë©´ ê°ì²´ë¥¼ ê³µìœ í•˜ê³  ì—†ë‹¤ë©´ ë§Œë“¤ì–´ ì¤Œ (Poolë¡œ ê´€ë¦¬)  
	Ex. String Pool (Heap ì˜ì—­ì˜ permanant ì˜ì—­ì— í• ë‹¹): ê°™ì€ ë‚´ìš©ì˜ String ê°ì²´ê°€ ì„ ì–¸ëœë‹¤ë©´ ê¸°ì¡´ì˜ String ê°ì²´ë¥¼ ì°¸ì¡°  
â†’ ë°ì´í„°ë¥¼ ê³µìœ í•˜ì—¬ ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•˜ëŠ” íŒ¨í„´

#### ì¸ìŠ¤í„´ìŠ¤ í†µì œ(instance-controlled) í´ë˜ìŠ¤

ì´ì™€ ê°™ì´ ë°˜ë³µë˜ëŠ” ìš”ì²­ì— ê°™ì€ ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ì •ì  íŒ©í„°ë¦¬ ë°©ì‹ì˜ í´ë˜ìŠ¤ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µì œí•  ìˆ˜ ìˆë‹¤.  
*ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µì œí•˜ëŠ” ì´ìœ ëŠ”?*  
1. í´ë˜ìŠ¤ë¥¼ ì‹±ê¸€í„´(singleton)ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.  
ì‹±ê¸€í„´: ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì˜¤ì§ í•˜ë‚˜ë§Œ ìƒì„±í•  ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤  
2. í´ë˜ìŠ¤ë¥¼ ì¸ìŠ¤í„´ìŠ¤í™” ë¶ˆê°€(noninstantiable)ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
3. ë¶ˆë³€ ê°’ í´ë˜ìŠ¤ì—ì„œ ë™ì¹˜ì¸ ì¸ìŠ¤í„´ìŠ¤ê°€ ë‹¨ í•˜ë‚˜ë¿ì„ì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.  
      `a==b`ì¼ ë•Œë§Œ `a.equals(b)` ì„±ë¦½

&nbsp;

### 3. ë°˜í™˜ íƒ€ì…ì˜ í•˜ìœ„ íƒ€ì… ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì´ ìˆë‹¤.

> **ë°˜í™˜í•  ê°ì²´ì˜ í´ë˜ìŠ¤ë¥¼ ììœ ë¡­ê²Œ ì„ íƒí•  ìˆ˜ ìˆëŠ” 'ìœ ì—°ì„±'ì„ ë¶€ì—¬í•´ì¤€ë‹¤.**

ì •ì  ë©”ì„œë“œë¡œë¶€í„° ì¸í„°í˜ì´ìŠ¤ ìì²´ë¥¼ ë°˜í™˜í•˜ì—¬, êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ê³µê°œí•˜ì§€ ì•Šê³ ë„ ê·¸ ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤.  
êµ¬í˜„ í´ë˜ìŠ¤ì˜ ìƒì„¸ë¥¼ ìˆ¨ê¸¸ ìˆ˜ ìˆê³ , ì‚¬ìš©ìëŠ” ê°ì²´ë¥¼ ì¸í„°í˜ì´ìŠ¤ë§Œìœ¼ë¡œ ë‹¤ë£° ìˆ˜ ìˆë‹¤.

APIë¥¼ ë§Œë“¤ ë•Œ ì´ ìœ ì—°ì„±ì„ ì‘ìš©í•˜ë©´ êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ê³µê°œí•˜ì§€ ì•Šê³ ë„ ê·¸ ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆì–´, APIë¥¼ ì‘ê²Œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.  
ì´ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œì˜ ë°˜í™˜ íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” **ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ í”„ë ˆì„ì›Œí¬**ë¥¼ ë§Œë“œëŠ” í•µì‹¬ ê¸°ìˆ ì´ê¸°ë„ í•˜ë‹¤.

ì´ ì˜ˆë¡œ java.util.Collectionsê°€ ìˆë‹¤.  
í”„ë¡œê·¸ë˜ë¨¸ëŠ” ëª…ì‹œí•œ ì¸í„°í˜ì´ìŠ¤ëŒ€ë¡œ ë™ì‘í•˜ëŠ” ê°ì²´ë¥¼ ì–»ì„ ê²ƒì„ì„ ì•Œê¸°ì— êµ³ì´ ë³„ë„ ë¬¸ì„œë¥¼ ì°¾ì•„ê°€ë©° ì‹¤ì œ êµ¬í˜„ í´ë˜ìŠ¤ê°€ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³´ì§€ ì•Šì•„ë„ ëœë‹¤.  
ë‚˜ì•„ê°€ ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ëŠ” ì–»ì€ ê°ì²´ë¥¼ (ê·¸ êµ¬í˜„ í´ë˜ìŠ¤ê°€ ì•„ë‹Œ) ì¸í„°í˜ì´ìŠ¤ë§Œìœ¼ë¡œ ë‹¤ë£¨ê²Œ ëœë‹¤.

&nbsp;

### 4. ì…ë ¥ ë§¤ê°œë³€ìˆ˜ì— ë”°ë¼ ë§¤ë²ˆ ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤.

> **ë°˜í™˜ íƒ€ì…ì˜ í•˜ìœ„ íƒ€ì…ì´ê¸°ë§Œ í•˜ë©´ ì–´ë–¤ í´ë˜ìŠ¤ì˜ ê°ì²´ë„ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤.**  

ì´ë¥¼ í†µí•´ì„œ ì‚¬ìš©ìëŠ” íŒ©í† ë¦¬ ë©”ì„œë“œê°€ ë°˜í™˜í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ì–´ë–¤ í´ë˜ìŠ¤ì¸ì§€ ì•Œ ìˆ˜ë„ ì—†ê³ , ì•Œ í•„ìš”ë„ ì—†ì–´ì§„ë‹¤.  
â†’ ì² ì €íˆ ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ì˜ êµ¬í˜„ì´ ì´ë£¨ì–´ì§„ë‹¤.

&nbsp;

ex)  
```java
public interface MyInt {
    static MyInt of(int v) {
        MyInt instance;

        if (v > 100) {
            instance = new MyBigInt(v);
        } else {
            instance = new MySmallInt(v);
        }

        return instance;
    }

    String getValue();

    class MySmallInt implements MyInt {
        private int value;
        MySmallInt(int v) {
            this.value = v;
        }

        @Override
        public String getValue() {
            return "MySmallInt: " + this.value;
        }
    }

    class MyBigInt implements MyInt {
        private int value;

        MyBigInt(int v) {
            this.value = v;
        }

        @Override
        public String getValue() {
            return "MyBigInt: " + this.value;
        }
    }
}
```

```java
public class Main {
    public static void main(String[] args) {
        MyInt mySmallInt = MyInt.of(10);
        MyInt myBigInt = MyInt.of(200);

        System.out.println(mySmallInt.getValue());
        System.out.println(myBigInt.getValue());
    }
}
```

í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ ë‘ í´ë˜ìŠ¤ì˜ ì¡´ì¬ë¥¼ ëª¨ë¥¸ë‹¤. ë§Œì•½ ì •ìˆ˜ê°€ 100 ì´í•˜ë¼ë©´ `MySmallInt` ì¸ìŠ¤í„´ìŠ¤ë¥¼, ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ `MyBigInt`ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.  
ë§Œì•½ ë‘ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•  ì´ì ì´ ì—†ì–´ì§„ë‹¤ë©´ í•˜ë‚˜ë¥¼ ì‚­ì œ í•´ë„ ì•„ë¬´ ë¬¸ì œê°€ ì—†ë‹¤. ìƒˆ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•  ìˆ˜ë„ ìˆë‹¤.

í´ë¼ì´ì–¸íŠ¸ëŠ” íŒ©í„°ë¦¬ê°€ ê±´ë„¤ì£¼ëŠ” ê°ì²´ê°€ ì–´ëŠ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ì¸ì§€ ì•Œ ìˆ˜ë„ ì—†ê³  ì•Œ í•„ìš”ë„ ì—†ë‹¤. `MyInt`ì˜ í•˜ìœ„ í´ë˜ìŠ¤ì´ê¸°ë§Œ í•˜ë©´ ë˜ëŠ” ê²ƒì´ë‹¤.

&nbsp;

### 5. ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì‘ì„±í•˜ëŠ” ì‹œì ì—ëŠ” ë°˜í™˜í•  ê°ì²´ì˜ í´ë˜ìŠ¤ê°€ ì¡´ì¬í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

